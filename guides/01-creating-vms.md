## 1. 가상 머신 만들기

### Ubuntu ISO 다운로드

먼저, [Ubuntu 공식 홈페이지](https://ubuntu.com/download/server)에서 Ubuntu Server 22.04.3 LTS 버전을 다운로드 받으십시오.

![img](/images/01.png)

22.04.3 버전, AMD64 아키텍쳐의 iso 파일을 다운받게 되며, 용량은 약 2GB입니다.

### 호스트 전용 네트워크 만들기

다운로드 받는 동안 호스트 전용 네트워크를 새로 만드십시오. VirtualBox에서 <kbd> Ctrl </kbd> + <kbd> H </kbd>를 누르면 네트워크 관리자가 표시됩니다.

![img](/images/02.png)

**만들기(C)** 버튼을 눌러 호스트 전용 네트워크 하나를 새로 만드십시오. 관리자 권한을 요구하면 ‘예’ 버튼을 누르십시오.

![img](/images/03.png)

이렇게 만들어진 호스트 전용 네트워크는 고정된 IP를 제공하게 됩니다.

**수동으로 어댑터 설정(M)** 버튼을 누르고, 원하는 IPv4 주소 대역을 입력하십시오.
로컬 네트워크를 사용하게 되므로,
만들어진 IPv4 주소의 `192.168`까지는 건드리지 않고,
세 번째 주소(사진의 `169` 부분)만 원하는 대로 변경하십시오.

서브넷 마스크는 `255.255.255.0`으로 설정해 `/24` 범위를 사용하도록 하십시오.

여기에서 만든 호스트 전용 네트워크의 이름과 지정한 IPv4 대역을 기억해 주시기 바랍니다.
이 가이드에서는 `192.168.169.1/24` 대역을 사용하도록 합니다.

![img](/images/04.png)

고정된 IP를 사용하기 위해, DHCP 서버는 사용하지 않습니다.

![img](/images/05.png)

### VM 생성

Ubuntu iso 파일을 다운로드 받았다면, 이 iso 파일을 이용해 가상 머신을 총 3개(원하는 경우 그 이상) 만드십시오. 가상 머신은 Ctrl+N 단축키를 사용해 하나씩 새로 만들 수 있습니다.

![img](/images/06.png)

3개 중 1개는 `k8s-master`, 남은 두 개는 각각 `k8s-node1`, `k8s-node2`가 됩니다.
이름 역시 각각 `k8s-master`, `k8s-node1`, `k8s-node2`로 지으십시오.
폴더는 공간이 충분한 디스크에 지정하시고, 기본 지정된 디스크(C:)의 용량이 충분하다면 별도로 변경하지 않아도 됩니다.
ISO 이미지는 방금 다운로드 받은 Ubuntu Server 22.04.3 LTS 버전을 사용하십시오.
무인 설치를 건너뛰고 수동으로 설치해야 하므로 무인 설치 건너뛰기 체크박스를 체크한 뒤 다음으로 이동하십시오.
더 많은 노드를 원한다면, k8s-node3 등의 이름으로 더 만들어도 무방합니다.

![img](/images/07.png)

다음 화면에서는 CPU 개수와 RAM 용량을 지정하게 됩니다.

![img](/images/08.png)

RAM은 2048MB 이상, CPU는 2개 이상으로 지정한 후, 다음으로 이동하십시오.

![img](/images/09.png)

가상 머신에 추가할 가상 하드 디스크의 용량을 지정하게 됩니다.
40GB 이상으로 지정하고, 미리 전체 크기 할당 체크박스를 해제하십시오.

**다음** 버튼을 누르면 생성할 가상 머신의 요약이 표시됩니다.
머신의 이름이 정확한지, 머신 폴더가 용량이 충분한 디스크 아래에 지정되어 있는지, ISO 이미지가 정확한지 등을 확인한 후, **완료** 버튼을 눌러 생성하십시오.

### 호스트 전용 네트워크 연결

생성 후, 위에서 만든 호스트 전용 네트워크에 연결해야 합니다.

만들어진 머신의 설정에 진입하십시오.
우클릭 후 **설정(S)** 메뉴를 선택하거나, 만들어진 머신을 지정하고 <kbd>Ctrl</kbd>+<kbd>S</kbd> 단축키를 사용해 설정 메뉴에 진입하십시오.

![img](/images/10.png)

설정 메뉴에 진입한 후 네트워크 설정을 눌러 **어댑터 2**의 설정에 진입해 어댑터를 활성화한 후, **호스트 전용 어댑터**를 선택하고 위에서 만든 어댑터에 연결하십시오.
어댑터 1에 연결된 NAT의 경우, 건드리지 마십시오.

![img](/images/11.png)

연결한 후 **확인** 버튼을 눌러 설정을 완료하십시오.

생성한 모든 VM에 이 작업을 수행해 모든 VM이 여기에서 만든 호스트 전용 네트워크에 연결할 수 있도록 하십시오.

